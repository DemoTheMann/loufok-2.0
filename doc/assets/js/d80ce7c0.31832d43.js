"use strict";(self.webpackChunkloufok=self.webpackChunkloufok||[]).push([[1255],{3565:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>i,metadata:()=>u,toc:()=>a});var o=t(5893),r=t(1151);const i={sidebar_position:7},s="getContribs()",u={id:"model-contribution/getContribs",title:"getContribs()",description:"La m\xe9thode getContribs() de la classe ContributionModel prend en param\xe8tre l'identifiant d'un cadavre et renvoit toutes les contributions qui lui sont associ\xe9es.",source:"@site/docs/model-contribution/getContribs.md",sourceDirName:"model-contribution",slug:"/model-contribution/getContribs",permalink:"/docs/model-contribution/getContribs",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/model-contribution/getContribs.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"getUserContrib()",permalink:"/docs/model-contribution/getUserContrib"},next:{title:"Mod\xe8le Joueur",permalink:"/docs/category/mod\xe8le-joueur"}},c={},a=[{value:"Code",id:"code",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"getcontribs",children:"getContribs()"}),"\n",(0,o.jsx)(n.p,{children:"La m\xe9thode getContribs() de la classe ContributionModel prend en param\xe8tre l'identifiant d'un cadavre et renvoit toutes les contributions qui lui sont associ\xe9es."}),"\n",(0,o.jsxs)(n.p,{children:["La m\xe9thode renvoit un tableau associatif avec le ",(0,o.jsx)(n.code,{children:"nom de plume"})," de la personne qui \xe0 \xe9crit la contribution ainsi que le contenu textuel de la contribution."]}),"\n",(0,o.jsx)(n.p,{children:"Cette m\xe9thode fait appel aux entit\xe9es :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"Contribution"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"Joueur"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"code",children:"Code"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",metastring:'title="ContributionModel.php"',children:"/**\r\n     * Renvoie un array d'arrays avec deux donn\xe9es:\r\n     *   contributions : texte de la contribution\r\n     *   joueurs : pseudo du joueur\r\n     */\r\n    public static function getContribs($id_cadavre): array\r\n    {\r\n        $contribs = Contribution::getInstance()->findBy(['id_cadavre' => $id_cadavre]);\r\n        $datas = [];\r\n        $i = 0;\r\n        foreach ($contribs as $contrib) {\r\n            $i = $i+1;\r\n            if ($contrib['id_joueur']) {\r\n                $joueur = Joueur::getInstance()->findBy(['id_joueur' => $contrib['id_joueur']]);\r\n                $joueur = $joueur[0]['nom_plume'];\r\n            }else{\r\n                $joueur = \"\";\r\n            }\r\n            $datas[$i] = [\r\n                'contributions' => $contrib['texte_contribution'],\r\n                'joueurs' => $joueur\r\n            ];\r\n        }\r\n        return $datas;\r\n    }\n"})})]})}function l(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>u,a:()=>s});var o=t(7294);const r={},i=o.createContext(r);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function u(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);
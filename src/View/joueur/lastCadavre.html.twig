{% extends 'layout.html.twig' %}
{% block title %}Dernier Cadavre Exquis Loufok{% endblock %}
{% block css %}  
  <link rel="stylesheet" href="{{ url('/assets/css/affichage_cadavre.css') }}" >
{% endblock %}
{% block content %}

  <!-- logout -->
  <header>
    <div class="navbar">
      <h1 class="navbar__title">Loufok - les cadavres exquis revisités </h1>
      <a href="{{ url('/logout') }}" class="navbar__logout">
        <img src="{{ url('/assets/images/logout.svg') }}" alt="Déconnexion">
      </a>
    </div>
  </header>

  <main>
    <div class="welcome">
      <p class="welcome__name"> Bienvenue {{ username }} </p>
    </div>
    <a href="{{ url('/') }}" class="joueur__buttonLink joueur__buttonBack">← Retour</a>
  {% if title %}
      <section class="cadavreExquis">
      <div class="cadavreExquis__background">
        <h2 class="cadavreExquis__title"> Consultation de votre dernier Cadavre Exquis en date :  {{ title }}</h2>
    {% for contrib in contribs %}
      <div class="contributions">
          <p class="contributions__content">{{ contrib.contributions}}</p>
          </div>
    {% endfor %}
      </div>

      <p class="contributions__pseudo">
      Par 

      {# boucles pour l'ordre, si avant-dernier enlever la virgule et rajouter le "et", si dernier "." #}
    {% for contrib in contribs %}
      {% if loop|last %}
          et {{ contrib.joueurs|capitalize }}.
        {% elseif loop|length is same as loop.index + 1 %}
          {{ contrib.joueurs|capitalize }}
        {% else %}
          {{ contrib.joueurs|capitalize }},
        {% endif %}
    {% endfor %}      
      </p>
    </section>
  {% endif %}
    
  </main>
{% endblock %}

{% block js %}
{% endblock %}